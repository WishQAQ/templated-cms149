<!DOCTYPE html PUBliC "-//W3C//dtD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/dtD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta charset="gb2312" />
<title>爱上寻模板摄影的理由</title>
<link rel="stylesheet" href="/skin/css/liyou.css">
<script type="text/javascript" src="/skin/js/jquery-1.11.1.min.js"></script><!--抢先体验光效果-->
</head>
<body>
<ul class="mod-nav-list">
  <li class="current"> <a href="#section-1"></a> </li>
  <li> <a href="#section-2"></a> </li>
  <li> <a href="#section-3"></a> </li>
  <li> <a href="#section-4"></a> </li>
  <li> <a href="#section-6"></a> </li>
  <li> <a href="#section-5"></a> </li>
</ul>
<div class="mod-bg-layer-1">
  <div class="inner" data-stellar-background-ratio="0.15"></div>
</div>
<!--背景图片-->
<div class="mod-bg-layer-2">
  <div class="inner" data-stellar-background-ratio="0.3"></div>
</div>
<!--背景图片小星星-->
<div class="mod-star-list">
  <div class="inner"></div>
</div>
<!--闪烁的星星和流星-->
<div class="ns-main-wrap">
  <div id="section-1" class="ns-section-box mod-section-page1">
    <div class="ball">
      <object type="application/x-shockwave-flash" id="dzsTop" name="dzsTop" data="liyou/light.swf" width="1280" height="720" style="visibility: visible;">
        <param name="menu" value="false">
        <param name="wmode" value="transparent">
        <param name="scale" value="noscale">
        <param name="salign" value="T">
        <param name="allowScriptAccess" value="always">
        <embed id="swfcontent_swf_embed" name="swfcontent_swf_embed" src="light.swf" width="1280" height="720" base="" wmode="transparent" allowfullscreen="true" allowscriptaccess="always" quality="high" flashvars="" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer">
      </object>
    </div>
    <div class="dl">
      <div class="dl-bg"></div>
      <!--光束--><!--按钮背景--> 
    </div>
    <div class="slogan"></div>
    <!--文字--> 
  </div>
  <div id="section-2" class="ns-section-box mod-section-page2">
    <div class="wrap noAction">
      <div class="photo-wrap">
        <div class="photo-box">
          <div class="photo-inner">
            <div class="layer-1"> </div>
            <div class="layer-2"> </div>
          </div>
        </div>
      </div>
      <div class="content-title"> </div>
      <div class="content-info"> </div>
    </div>
  </div>
  <div id="section-3" class="ns-section-box mod-section-page3">
    <div class="wrap noAction">
      <div class="photo-wrap">
        <div class="photo-box">
          <div class="photo-inner"> 
            <!--div class="layer-1"></div-->
            <div class="layer-2"></div>
            <!--div class="layer-3"></div--> 
          </div>
        </div>
      </div>
      <div class="content-title"> </div>
      <div class="content-info"> </div>
    </div>
  </div>
  <div id="section-4" class="ns-section-box mod-section-page4">
    <div class="wrap noAction">
      <div class="photo-wrap">
        <div class="photo-box">
          <div class="photo-inner">
            <div class="layer-1"> </div>
          </div>
        </div>
      </div>
      <div class="content-title"> </div>
      <div class="content-info"> </div>
    </div>
  </div>
  <div id="section-6" class="ns-section-box mod-section-page6">
    <div class="wrap noAction">
      <div class="photo-wrap">
        <div class="photo-box">
          <div class="photo-inner"> 
            <!--div class="layer-1"></div-->
            <div class="layer-2"></div>
            <!--div class="layer-3"></div--> 
          </div>
        </div>
      </div>
      <div class="content-title"> </div>
      <div class="content-info"> </div>
    </div>
  </div>
  <div id="section-5" class="ns-section-box mod-section-page5">
    <div class="wrap-bottom">
      <div class="logo"> </div>
      <div class="dl"> <a id="btn-bottom-dl" href=""></a> </div>
      <div class="city">
        <ul id="lightList" class="light-list">
          <li class="nth-1 noAction"></li>
          <li class="nth-2 noAction"></li>
          <li class="nth-3 noAction"></li>
          <li class="nth-4 noAction"></li>
          <li class="nth-5 noAction"></li>
        </ul>
      </div>
      <div class="copyright"> 广州寻模板摄影网络部 </div>
    </div>
  </div>
</div>
<div class="mod-mask"> </div>
<div class="mod-float-no"> <a href="#" class="btn-close"></a> <a href="#" class="btn-know">我知道了</a>
  <p class="title">Oh No！资格被抢光了！</p>
  <div class="content">
    <p>每日 100,000 资格限量体验，明天早点来抢哈~</p>
  </div>
</div>
<script type="text/javascript" src="/skin/js/jquery.stellar.min.js"></script> 
<script type="text/javascript" src="/skin/js/waypoints.js"></script> 
<script type="text/javascript" src="/skin/js/scrolltoplugin.min.js"></script> 
<script type="text/javascript" src="/skin/js/tweenmax.min.js"></script> 
<script type="text/javascript" src="/skin/js/jquery.nav.js"></script> 
<script type="text/javascript" src="/skin/js/sf.js"></script> 
<script type="text/javascript">
	//safari下屏蔽flash
     var Sys = {}; 
        var ua = navigator.userAgent.toLowerCase(); 
        var s; 
        (s = ua.match(/version\/([\d.]+).*safari/)) ? Sys.safari = s[1] : 0; 
        if (Sys.safari) $("#dzsTop").hide(); 

    //下载按钮光线控制
    ;(function(){
        var dlbox = $('.mod-section-page1 .dl .dl-bg');
        var dlTopBtn = $('#btn-top-dl');
        var count = 0;
        var list = 23;
        var position = 221;
        var timeMac;
        var changePosition = function(){
            dlbox.css('background-position', (-position * count) + 'px 0');
            count = (count+1)%(list+1);
        }
        dlTopBtn.on('mouseover', function(e){
            dlbox.addClass('dl-action');
            timeMac = setInterval(changePosition, 60);
        });
        dlTopBtn.on('mouseout', function(e){
            dlbox.removeClass('dl-action');
            dlbox.css('background-position', '0 0');
            clearInterval(timeMac);
            count = 0;
        })
    })();
    //背景星星控制
    ;(function(){
        var starListBox = $('.mod-star-list');
        var sectionBox = $('.ns-main-wrap .ns-section-box');
        starListBox.height(sectionBox.eq(0).height() * sectionBox.length);
        $(window).on('resize', function(){
            starListBox.height(sectionBox.eq(0).height() * sectionBox.length);
        });

        var starListInner = starListBox.find('.inner');
        var meteorSeed = 20;
        var meteorHTML = '<div class="meteor"><div class="box"></div></div>';
        var starSeed = 20;
        var starHTML = '<div class="star"><div class="box"></div></div>'
        var starListHeight = starListBox.height();
        var starListWidth = starListBox.width();

        for(var i=0; i<starSeed; i++){
            var starEl = $(starHTML);
            var scaleRandom = Math.random() * 1.2 + 0.3;
            starEl.css({
                '-webkit-transform': 'scale(' + scaleRandom + ')',
                '-moz-transform': 'scale(' + scaleRandom + ')',
                'transform': 'scale(' + scaleRandom + ')',
                'top': Math.random() * starListHeight + 'px',
                'left': Math.random() * starListWidth + 'px'
            });
            starEl.find('.box').css({
                '-webkit-animation-delay': Math.random() * 2 +'s',
                '-moz-animation-delay': Math.random() * 2 +'s',
                'animation-delay': Math.random() * 2 +'s',
                '-webkit-animation-duration': Math.random() * 1 + 1 +'s',
                '-moz-animation-duration': Math.random() * 1 + 1 +'s',
                'animation-duration': Math.random() * 1 + 1 +'s'
            });
            starEl.appendTo(starListInner).waypoint(function(direction) {
                $(this).find('.box').addClass('action');
            }, {
                offset: '100%',
                triggerOnce: true
            });
        }

        for(var i=0; i<meteorSeed; i++){
            var meteorEl = $(meteorHTML);
            var scaleRandom = Math.random() * 1.2 + 0.3;
            var rotateRandom = Math.random() * 10 - 5 + 'deg';
            meteorEl.css({
                '-webkit-transform': 'scale(' + scaleRandom + ') rotate(' + rotateRandom + ')',
                '-moz-transform': 'scale(' + scaleRandom + ') rotate(' + rotateRandom + ')',
                'transform': 'scale(' + scaleRandom + ') rotate(' + rotateRandom + ')',
                'top': Math.random() * starListHeight + 'px',
                'left': Math.random() * starListWidth + 'px'
            });
            meteorEl.find('.box').css({
                '-webkit-animation-delay': Math.random() * 10 +'s',
                '-moz-animation-delay': Math.random() * 10 +'s',
                'animation-delay': Math.random() * 10 +'s',
                '-webkit-animation-duration': Math.random() * 2 + 3 +'s',
                '-moz-animation-duration': Math.random() * 2 + 3 +'s',
                'animation-duration': Math.random() * 2 + 3 +'s'
            });
            meteorEl.appendTo(starListInner).waypoint(function(direction) {
                $(this).find('.box').addClass('action');
            }, {
                offset: '100%',
                triggerOnce: true
            });
        }

    })();
    //鼠标滚轮控制
    ;(function(){
        if (!navigator.userAgent.indexOf('Firefox') >= 0){
            var scrollTime = 0.35;
            var scrollDistance = 140;
            var isMove = false;
            if (!navigator.userAgent.indexOf('MSIE') >= 0){
                //var scrollDistance = 300;
                var scrollTime = 1;
                var scrollDistance = $('.ns-main-wrap').height();
                $(window).on('resize', function(e){
                    scrollDistance = $('.ns-main-wrap').height();
                });
            };
            $(window).on("mousewheel DOMMouseScroll", function(e){
                e.preventDefault(); 
                if (isMove) {
                    return false;
                };
                var delta = e.originalEvent.wheelDelta/120 || -e.originalEvent.detail/3;
                var scrollTop = $(window).scrollTop();
                
                if (!navigator.userAgent.indexOf('MSIE') >= 0) {
                    var finalScroll = scrollTop - scrollTop%scrollDistance - parseInt(delta*scrollDistance);
                    if (finalScroll < 0) {
                        finalScroll = 0;
                    };
                    if (finalScroll > ($('.ns-section-box').length - 1) * $(window).height()) {
                        return;
                    };
                }else {
                    var finalScroll = scrollTop - parseInt(delta*scrollDistance);
                }
                if (!navigator.userAgent.indexOf('MSIE') >= 0 && !(delta > 0 && scrollTop == 0)) {
                    isMove = true;
                };

                TweenMax.to($(window), scrollTime, {
                    scrollTo : { y: finalScroll, autoKill:true },
                    ease: Power1.easeOut,
                    overwrite: 5,
                    onComplete: function(){
                        isMove = false;
                    }                            
                });
            });
        }
        
    })();
    //视差
    ;(function(){
        $(window).stellar({
            horizontalScrolling: false
        });
    })();
    //每块滑出动画控制
    ;(function(){
        $('.ns-section-box').each(function(i){
            if (i == 0) {
                return;
            };
            $(this).find('.wrap').waypoint(function(direction){
                $(this).removeClass('noAction');
            }, {
              offset: '70%',
              triggerOnce: true
            });
        })
    })();
    //底部城市灯光控制
    ;(function(){
        var lightList = $('#lightList li');
        var count = 0;
        var time = 1000;
        var animationFn = function(){
            if (count == lightList.length) {
                lightList.each(function(i){
                    $(this).addClass('noAction');
                });
            }else {
                lightList.eq(count).removeClass('noAction');
            }
            if (count == lightList.length - 1) {
                time = 10000;
            }else {
                time = 1000;
            }
            count = (count + 1) % (lightList.length + 1);
            setTimeout(animationFn, time);
        };
        $('#lightList').waypoint(function(direction){
            setTimeout(animationFn, 2000);
        }, {
            offset: '100%',
            triggerOnce: true
        });
    })();
    //侧边菜单
    ;(function(){
        $('.mod-nav-list').onePageNav({
            currentClass: 'current',
            changeHash: false,
            scrollSpeed: 750,
            scrollThreshold: 0.5,
            filter: '',
            easing: 'swing'
        });
    })();
    //快速下载
    ;(function(){
        var subNav = $('.mod-sub-nav');
        var isShow = false;
        var len = $('.ns-section-box').length;
        var scrollTop = $(window).scrollTop();
        var windowHeight = $(window).height();
        if (scrollTop >= windowHeight && scrollTop < windowHeight * (len - 1)) {
            subNav.show();
            isShow = true;
        };
        $(window).on('scroll', function(e){
            scrollTop = $(window).scrollTop();
            windowHeight = $(window).height();
            if ((isShow && scrollTop < windowHeight) || (isShow && scrollTop >= windowHeight * (len - 1))) {
                subNav.fadeOut();
                isShow = false;
            }else if(!isShow && scrollTop >= windowHeight && scrollTop < windowHeight * (len - 1)) {
                subNav.fadeIn();
                isShow = true;
            }
        });
    })();
    //弹出层
    ;(function(){
        var mask = $('.mod-mask');
        var floatNo = $('.mod-float-no');
        var btnTopDl = $('#btn-top-dl');
        var btnBottomDl = $('#btn-bottom-dl');
        var btnSubDl = $('.mod-sub-nav a');
        function checkCode(data){
            
            var noCodeEvent = function(e){
                e.preventDefault();
                mask.show();
                floatNo.fadeIn();
                floatNo.find('.btn-close').one('click', floatHideEvent);
                floatNo.find('.btn-know').one('click', floatHideEvent);
            }
            var floatHideEvent = function(e){
                e.preventDefault();
                mask.hide();
                floatNo.fadeOut();
            }
            mask.height($(window).height() * $('.ns-section-box').length);
            $(window).on('resize', function(){
                mask.height($(window).height() * $('.ns-section-box').length);
            });
            if (data.state == 0) {
                btnTopDl.on('click', noCodeEvent);
                btnBottomDl.on('click', noCodeEvent);
                btnSubDl.on('click', noCodeEvent);
                floatNo.find('.title').text(data.title);
                floatNo.find('.content').html(data.content);
            }else {
                btnTopDl.attr('href', data.href);
                btnBottomDl.attr('href', data.href);
                btnSubDl.attr('href', data.href);
            }
        }
        btnTopDl.hover(function(){
            $('.mod-section-page1 .dl .bg-btn').addClass('hover');
        }, function(){
            $('.mod-section-page1 .dl .bg-btn').removeClass('hover');
        });
        
        /*checkCode({
            state: 0,
            title: 'Oh No！资格被抢光了！',
            content: '<p>每日 100,000 资格限量体验，明天早点来抢哈~</p>'
        });*/

        //state为0的时候表示不能下载，并弹出层
        checkCode({
            state: 1,
            href: '/a/work/'
        });
        
    })();
    //小屏兼容
    (function(){
        var dlBox = $('');
        var slogan = $('.mod-section-page1 .slogan');
        var dlBg = $('.mod-section-page1 .dl .dl-bg');
        var dlBoxBg = dlBox.css('background-image');
        var height = $(window).height();
        var isover = false;
        
        if (height < 625) {
            slogan.css('top', 316 - (625 - height)/2 + 'px');
            dlBox.css({
                'top': 137 - (625 - height) + 'px',
                'background-image': 'none'
            });
            dlBg.hide();
            isover = true;
        }

        $(window).on('resize', function(e){
            height = $(window).height();
            if (height < 625) {
                slogan.css('top', 316 - (625 - height)/2 + 'px');
                dlBox.css({
                    'top': 137 - (625 - height) + 'px',
                    'background-image': 'none'
                });
                dlBg.hide();
                isover = true;
            }else if(isover && height >= 625) {
                slogan.css('top', '316px');
                dlBox.css({
                    'top': '137px',
                    'background-image': dlBoxBg
                });
                dlBg.show();
                isover = false;
            }
        });
    })();
    (function(){
        var tips = $('');
        var isShow = true;
        if ($(window).height() < 768) {
            tips.hide();
            isShow = false;
        };
        $(window).on('resize', function(){
            if (isShow && $(window).height() < 768) {
                tips.hide();
                isShow = false;
            }else if (!isShow && $(window).height() >= 768) {
                tips.show();
                isShow = true;
            };
        })
    })()
    //拉起用户反馈
    $(function(){
        SF.initEvent = function(){
            if(SF.isInstall()==1){
                $("#gjfeedback").attr("href","javascript:viod(0);").removeAttr("target").click(function(){
                    SF.QMStatUp(23, '');
                })
            }
        }
    });
    </script> 
<script type="text/javascript" src="/skin/js/ping.js"></script> 
<script type="text/javascript">
    if(typeof(pgvMain) == 'function')pgvMain();
</script>
</body>
</html>
